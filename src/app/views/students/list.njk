{% extends "layout.njk" %}


{% block content %}

  <div class="card table-container">

    <div class="header">

      <a class="button" href="/students/create">New</a>

      <form action="/students" method="GET">

        <input
          type="text"
          name="filter"
          placeholder="Name or Email"
          value={{filter}}
        >
        <button type="submit">Filter</button>
        
      </form>

    </div>

    <table width="100%">

      <thead>

        <th>Complet Name</th>
        <th>E-mail</th>
        <th>School Year</th>
        <th>Profile<th> 

      </thead>

      <tbody>

        {% for student in students %}

        <tr>
          
          <td>
            <span style="background-image: url({{student.avatar_url}})"></span>
            {{student.name}}
          </td>
          <td>{{student.email}}</td>
          <td>{{student.school_year}}</td>
          <td> <a href="/students/{{student.id}}"> Details </a></td>

        </tr>

        {% endfor %}

      </tbody>

    </table>

    <div class="pagination"
      data-page={{pagination.page}}
      data-total={{pagination.total}}
      data-filter={{filter}}
    ></div>


  </div>

{% endblock content %}